{% extends 'base.html.twig' %}

{% block title %}document{% endblock %}

{% block javascripts %}
    <script>
        window.onload = () => {
            document.querySelector("#document_share_title").value = "{{ document.name|raw }}"
        }
    </script>
    {{ parent() }}
{% endblock javascripts %}

{% block body %}
<h1>document</h1>

<table class="table">
    <tbody>
        <tr>
            <th>Id</th>
            <td>{{ document.id }}</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>{{ document.name }}</td>
        </tr>
        <tr>
            <th>CreatedAt</th>
            <td>{{ document.createdAt ? document.createdAt|date('Y-m-d H:i:s') : '' }}</td>
        </tr>
        <tr>
            <th>UpdatedAt</th>
            <td>{{ document.updatedAt ? document.updatedAt|date('Y-m-d H:i:s') : '' }}</td>
        </tr>
        <tr>
            <th>Slug</th>
            <td>{{ document.slug }}</td>
        </tr>
    </tbody>
</table>

<embed src="{{ asset('uploads/documents/' ~ document.name) }}" type="application/pdf">

<a href="{{ path('app_document_index', {slug_folder: folder.slug} ) }}">back to list</a>

<a href="{{ path('app_document_edit', {slug_folder: folder.slug, slug: document.slug}) }}">edit</a>

{{ include('document/_delete_form.html.twig') }}

<div class="modal shadow-1 white modal-falling" id="modal-share" data-ax="modal">
    <div class="modal-header">Share This Document</div>

    <div class="divider"></div>
    {{ form_start(form) }}
    <div class="modal-content">
        {{ form_widget(form.title) }}
        {{ form_row(form.email) }}
        {{ form_row(form.message) }}
    </div>

    <div class="divider"></div>

    <div class="modal-footer">
        <button class="btn small secondary">Envoyer</button>
        <button data-target="modal-share" class="ml-auto btn shadow-1 rounded-1 btn-small primary">Close</button>
    </div>
    {{ form_end(form) }}
</div>

<button class="btn primary rounded-1" data-target="modal-share">Open</button>

{% endblock %}